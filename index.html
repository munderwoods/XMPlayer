<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XM Player</title>
    <style>
    </style>
</head>
<body>
    <h1>Play a jam!</h1>
    <br>
    <button id="playButton">Play</button>
    <br>
    <button id="stopButton">Stop</button>

    <script type="text/javascript" src="player.js"></script>

    <script type="text/javascript" src="ft2.js"></script>

    <script>
        var XMPlayer = new Modplayer();

        document.getElementById('playButton')
        .addEventListener('click', _ => playSong());

        document.getElementById('stopButton')
        .addEventListener('click', _ => stop());

	function playSong () {
        if (XMPlayer.playing === false) {
        XMPlayer.autostart = true;
        XMPlayer.load('http://127.0.0.1:8080/songs/Ota.xm');
        playToPause();
        } else if (XMPlayer.playing === true) {
            XMPlayer.pause();
            playToPause();
        }
    }

    function playToPause() {
        button = document.getElementById('playButton');
        if(button.innerHTML === 'Play') {
            button.innerHTML = 'Pause';
        }else if (button.innerHTML === 'Pause') {
            button.innerHTML = 'Play';
        }
    }

    function stop() {
        if (XMPlayer.playing === true) {
            XMPlayer.stop();
            if (button.innerHTML === 'Pause') {
                button.innerHTML = 'Play';
            }
        }
    }


    </script>
</body>
</html>
